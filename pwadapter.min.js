(function(){function A(a){try{return document.head.querySelector(a)}catch(b){return null}}function w(a,b){var d="__pwacompat_"+a;void 0!==b&&(x[d]=b);return x[d]}function F(){var a=(y=A('link[rel="manifest"]'))?y.href:"";if(!a)throw'can\'t find <link rel="manifest" href=".." />\'';var b=Q([a,location]),d=w("manifest");if(d)try{var h=JSON.parse(d);G(h,b)}catch(r){console.warn("PWACompat error",r)}else{var q=new XMLHttpRequest;q.open("GET",a);q.withCredentials="use-credentials"===y.getAttribute("crossorigin");
q.onload=function(){try{var r=JSON.parse(q.responseText);w("manifest",q.responseText);G(r,b)}catch(t){console.warn("PWACompat error",t)}};q.send(null)}}function Q(a){for(var b={},d=0;d<a.length;b={c:b.c},++d){b.c=a[d];try{return new URL("",b.c),function(h){return function(q){return(new URL(q||"",h.c)).toString()}}(b)}catch(h){}}return function(h){return h||""}}function B(a,b,d){if(!A(a+d)){a=document.createElement(a);for(var h in b)a.setAttribute(h,b[h]);document.head.appendChild(a);return a}}function k(a,
b){b&&(!0===b&&(b="yes"),B("meta",{name:a,content:b},'[name="'+a+'"]'))}function R(a){var b=a.sizes.split(/\s+/g).map(function(d){return"any"===d?Infinity:parseInt(d,10)||0});return{src:a.src,type:a.type,sizes:a.sizes,f:Math.max.apply(null,b),h:a.h?a.h.split(/\s+/g):["any"]}}function G(a,b){function d(e,c,g,m){var f=window.devicePixelRatio,l=C({width:e*f,height:c*f});l.scale(f,f);l.fillStyle=z;l.fillRect(0,0,e,c);l.translate(e/2,(c-20)/2);m&&(c=m.width/f,f=m.height/f,128<f&&(c/=f/128,f=128),48<=c&&
48<=f&&(l.drawImage(m,c/-2,f/-2,c,f),l.translate(0,f/2+20)));l.fillStyle=S?"white":"black";l.font="24px HelveticaNeue-CondensedBold";l.font=getComputedStyle(y).getPropertyValue("--pwacompat-splash-font");f=a.name||a.short_name||document.title;c=l.measureText(f);m=c.s||24;l.translate(0,m);if(c.width<.8*e)l.fillText(f,c.width/-2,0);else for(f=f.split(/\s+/g),c=1;c<=f.length;++c){var H=f.slice(0,c).join(" "),I=l.measureText(H).width;if(c===f.length||I>.6*e)l.fillText(H,I/-2,0),l.translate(0,1.2*m),f.splice(0,
c),c=0}return function(){var J=l.canvas.toDataURL();h(g,J);return J}}function h(e,c){var g=document.createElement("link");g.setAttribute("rel","apple-touch-startup-image");g.setAttribute("media","(orientation: "+e+")");g.setAttribute("href",c);document.head.appendChild(g)}function q(e,c){var g=window.screen,m=d(g.width,g.height,"portrait",e),f=d(g.height,g.width,"landscape",e);setTimeout(function(){u.p=m();setTimeout(function(){u.l=f();c()},10)},10)}function r(e){function c(){--g||e()}var g=D.length+
1;c();D.forEach(function(m){var f=new Image;f.crossOrigin="anonymous";f.onerror=c;f.onload=function(){f.onload=null;m.href=K(f,z,!0);u.i[f.src]=m.href;c()};f.src=m.href})}function t(){w("iOS",JSON.stringify(u))}function L(){var e=T.shift();if(e){var c=new Image;c.crossOrigin="anonymous";c.onerror=function(){return void L()};c.onload=function(){c.onload=null;q(c,function(){var g=a.background_color&&K(c,z);g?(e.href=g,u.i[c.src]=g,r(t)):t()})};c.src=e.href}else q(null,t)}var n=(a.icons||[]).map(R).sort(function(e,
c){return c.f-e.f}),p=n.filter(function(e){return-1<e.h.indexOf("any")});n=n.filter(function(e){return-1<e.h.indexOf("maskable")});var T=(0<p.length?p:n).map(function(e){var c={rel:"icon",href:b(e.src),sizes:e.sizes};if(v&&!(120>e.f)){c.rel="apple-touch-icon";e=document.createElement("link");for(var g in c)e.setAttribute(g,c[g]);return e}}).filter(Boolean),D=(0<n.length?n:p).map(function(e){var c={rel:"icon",href:b(e.src),sizes:e.sizes},g='[sizes="'+e.sizes+'"]';B("link",c,'[rel="icon"]'+g);if(v&&
!(120>e.f))return c.rel="apple-touch-icon",B("link",c,'[rel="apple-touch-icon"]'+g)}).filter(Boolean);n=A('meta[name="viewport"]');var U=!!(n&&n.content||"").match(/\bviewport-fit\s*=\s*cover\b/),M=a.display;n=-1!==V.indexOf(M);k("mobile-web-app-capable",n);W(a.theme_color||"black",U);X&&(k("application-name",a.short_name),k("msapplication-tooltip",a.description),k("msapplication-starturl",b(a.start_url||".")),k("msapplication-navbutton-color",a.theme_color),(p=p[0])&&k("msapplication-TileImage",
b(p.src)),k("msapplication-TileColor",a.background_color));k("theme-color",a.theme_color);if(v){var z=a.background_color||"#f8f9fa",S=N(z);(p=Y(a.related_applications))&&k("apple-itunes-app","app-id="+p);k("apple-mobile-web-app-capable",n);k("apple-mobile-web-app-title",a.short_name||a.name);if(p=w("iOS"))try{var E=JSON.parse(p);h("portrait",E.p);h("landscape",E.l);D.forEach(function(e){var c=E.i[e.href];c&&(e.href=c)});return}catch(e){}var u={i:{}};L()}else p={por:"portrait",lan:"landscape"}[String(a.orientation||
"").substr(0,3)]||"",k("x5-orientation",p),k("screen-orientation",p),"fullscreen"===M?(k("x5-fullscreen","true"),k("full-screen","yes")):n&&(k("x5-page-mode","app"),k("browsermode","application"))}function Y(a){var b;(a||[]).filter(function(d){return"itunes"===d.platform}).forEach(function(d){d.id?b=d.id:(d=d.url.match(/id(\d+)/))&&(b=d[1])});return b}function W(a){if(v||Z){var b=N(a);if(v)k("apple-mobile-web-app-status-bar-style","black");else{a:{try{var d=Windows.m.o.j.v().B;break a}catch(h){}d=
void 0}d&&(b=b?255:0,d.u={r:b,g:b,b:b,a:255},a=O(a),d.backgroundColor={r:a[0],g:a[1],b:a[2],a:a[3]})}}}function O(a){var b=C();b.fillStyle=a;b.fillRect(0,0,1,1);return b.getImageData(0,0,1,1).data||[]}function N(a){a=O(a).map(function(b){b/=255;return.03928>b?b/12.92:Math.pow((b+.055)/1.055,2.4)});return 3<Math.abs(1.05/(.2126*a[0]+.7152*a[1]+.0722*a[2]+.05))}function K(a,b,d){d=void 0===d?!1:d;var h=C(a);h.drawImage(a,0,0);if(d||255!==h.getImageData(0,0,1,1).data[3])return h.globalCompositeOperation=
"destination-over",h.fillStyle=b,h.fillRect(0,0,a.width,a.height),h.canvas.toDataURL()}function C(a){a=void 0===a?{width:1,height:1}:a;var b=a.height,d=document.createElement("canvas");d.width=a.width;d.height=b;return d.getContext("2d")}if("onload"in XMLHttpRequest.prototype&&!navigator.A){var V=["standalone","fullscreen","minimal-ui"],P=navigator.userAgent||"",v=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&(-1!==P.indexOf("Mobile/")||"standalone"in navigator)||!1,X=!!P.match(/(MSIE |Edge\/|Trident\/)/),
Z="undefined"!==typeof Windows,y;try{var x=sessionStorage}catch(a){}x=x||{};"complete"===document.readyState?F():window.addEventListener("load",F)}})();